syntax = "proto3";
package model;
option go_package="pkg/model";

import "protos/model/result.proto";
import "protos/model/sim.proto";

message DBEntry {
    //basic info
    string key = 1 [json_name="key"];
    uint64 create_date = 2;
    uint64 run_date = 3;
    model.DescriptiveStats sim_duration = 4;
    string config = 5;
    string hash = 6;

    //indexing data
    model.DescriptiveStats total_damage = 7;
    repeated string char_names = 8;
    int32 target_count = 9;
    double mean_dps_per_target = 10;

    //detailed results
    repeated model.Character team = 11;
    map<string, model.DescriptiveStats> dps_by_target = 12;
}

message DBEntries {
    repeated DBEntry data = 1;
}